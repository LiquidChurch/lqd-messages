window.GCVideoModal=window.GCVideoModal||{};(function(b,a,c,e,d){e.cache=function(){e.$={};e.$.overlay=c(a.getElementById("gc-video-overlay"));e.$.body=c(a.body);e.$.modals=c(".gc-sermons-modal")};e.init=function(){e.cache();if("function"===typeof c.fn.prettyPhoto){c(".gc-sermons-play-button").prettyPhoto({default_width:1100,default_height:619,theme:"dark_square"});return}c(a).on("keydown",function(g){var f=27;if(f===g.keyCode){g.preventDefault();e.closeModals()}});e.$.body.on("click",".gc-sermons-play-button",e.clickOpenModal).on("click","#gc-video-overlay",e.closeModals)};e.clickOpenModal=function(g){g.preventDefault();var f=c(this).data("sermonid");e.showVideo(f)};e.showVideo=function(f){e.$.overlay.fadeIn("fast");var g=e.$.modals.filter("#gc-sermons-video-"+f).removeClass("gcinvisible");g.find(".gc-sermons-video-container").html(g.find(".tmpl-videoModal").html()).fitVids();g.css({"margin-top":-Math.floor(parseInt(g.outerHeight()*0.6))})};e.closeModals=function(){e.$.overlay.fadeOut();e.$.modals.addClass("gcinvisible").find(".gc-sermons-video-container").empty()};c(e.init)})(window,document,jQuery,window.GCVideoModal);
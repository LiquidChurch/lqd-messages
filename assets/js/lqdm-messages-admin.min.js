window.GCSermonsAdmin=window.GCSermonsAdmin||{};(function(c,a,d,f,e){var b=null;f.cache=function(){f.$={}};f.init=function(){f.cache();d(a.body).on("keyup change",'.check-if-recent input[type="text"]',f.maybeToggle).on("change","#lqdm_sermon_video_url",f.checkDupVideo).on("shortcode_button:open",f.showNotRecent);d(f.expandTaxonomy)};f.maybeToggle=function(g){var i=d(g.target);var h=i.val();if(!h||"0"===h||0===h||"recent"===h){i.parents(".cmb2-metabox").find(".hide-if-not-recent").show()}else{i.parents(".cmb2-metabox").find(".hide-if-not-recent").hide()}};f.showNotRecent=function(){d(".scb-form-wrap .hide-if-not-recent").show()};f.expandTaxonomy=function(){var i=["gc-sermon-series","gcs-speaker","gcs-tag"];var h=[];d.each(i,function(j,k){h.push("#link-"+k)});var g=h.join(",");d(g).trigger("click")};f.checkDupVideo=function(){var g=d(this);var h={action:"check_sermon_duplicate_video",video_url:g.val(),curr_post_id:php_vars.postID,nonce:php_vars.nonce};d.ajax({method:"POST",url:ajaxurl,data:h,dataType:"json"}).done(function(i){d(".gc-sermon-duplicate-notice").remove();if(i.success==false){d(".cmb2-metabox-description").after(i.data)}})};d(f.init)})(window,document,jQuery,window.GCSermonsAdmin);
